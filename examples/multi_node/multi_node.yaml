nodes:
  - name: node1
    heartbeat:
      enabled: true
      period: 100
    endpoints:
      - id: 0
        type: udp4
        ip: 127.0.0.1
        port: 11417
      - id: 1
        type: serial
        device: /tmp/ttyMCU
  - name: node2
    heartbeat:
      enabled: true
      period: 1000
    endpoints:
      - id: 0
        type: udp4
        ip: 127.0.0.1
        port: 11416
      - id: 1
        type: udp4
        ip: 127.0.0.1
        port: 11418
  - name: node3
    heartbeat:
      enabled: true
      period: 1000
    endpoints:
      - id: 0
        type: serial
        device: /tmp/ttyPC
      - id: 1
        type: udp4
        ip: 127.0.0.1
        port: 11419

connections:
  - first: {node: node1, id: 0}
    second: {node: node2, id: 0}
  - first: {node: node1, id: 1}
    second: {node: node3, id: 0}
  - first: {node: node2, id: 1}
    second: {node: node3, id: 1}

bundles:
  - name: log
    id: 0x100
    producers: node1
    consumers: [node2, node3]
    signals:
      - {name: level, type: uint32}
      - {name: name, type: string, capacity: 64}
      - {name: msg, type: string, capacity: 64}
      - {name: file, type: string, capacity: 64}
      - {name: function, type: string, capacity: 64}
      - {name: line, type: uint32}
  - name: node_name
    id: 0x101
    producers: [node2, node3]
    consumers: node1
    signals:
      - {name: name, type: string, capacity: 64}
  - name: time
    id: 0x102
    producers: node2
    consumers: node3
    signals:
      - {name: seconds, type: int32}
      - {name: nanoseconds, type: uint32}